head(raw_data)
# 排序 Top-6
raw_data[order(raw_data$Freq,decreasing = TRUE),]
# 文字雲
head(sort(data_in_table, decreasing=T))
wordcloud(data_in_table$itemName, data_in_table$Freq,
min.freq = 1, max.words=200, scale=c(4,.2),
random.order=FALSE, colors=brewer.pal(5,"Dark2"))
wordcloud(raw_data$itemName, raw_data$Freq,
min.freq = 1, max.words=200, scale=c(4,.2),
random.order=FALSE, colors=brewer.pal(5,"Dark2"))
par(family=(“Heiti TC Light”))
par(family=(“Heiti TC Light”))
par(family=("Heiti TC Light"))
wordcloud(raw_data$itemName, raw_data$Freq,
min.freq = 1, max.words=200, scale=c(4,.2),
random.order=FALSE, colors=brewer.pal(5,"Dark2"))
raw_data[order(raw_data$Freq,decreasing = TRUE),]
head(raw_data[order(raw_data$Freq,decreasing = TRUE),])
library(dplyr)
library(ggplot2)
library(ggmap)
stopifnot(has_google_key()){
cat("register_google(key =\"xxxxx....\") Firstly")
}
has_google_key()
google_key()
setwd("~/Desktop/GitHub/Data_Science_Programming_108/Samples/WebSpider")
library(dplyr)
library(xml2)
library(rvest)
library(wordcloud)
full_page <- read_html("https://www.pixnet.net/blog/articles/category/33")
full_page
titles <- html_node(full_page, "li/h3/a")
cat(titles)
all_tag_nodes <- c(titles)
all_tag_nodes
rank <- 10   # get the top-10
for(i in 2:rank){
rank_tag <- paste0(".rank-",i)
cat(rank_tag)
nodes <- html_node(full_page, rank_tag)
all_tag_nodes <- add_row(all_tag_nodes, nodes)
}
all_tag_nodes
setwd("~/Desktop/GitHub/Data_Science_Programming_108/Samples/WebSpider")
library(dplyr)
library(xml2)
library(rvest)
library(wordcloud)
full_page <- read_html("https://www.pixnet.net/blog/articles/category/33")
full_page
titles <- html_node(full_page, "li/h3/a")
cat(titles)
all_tag_nodes <- c(titles)
all_tag_nodes
rank <- 10   # get the top-10
for(i in 2:rank){
rank_tag <- paste0(".rank-",i)
cat(rank_tag)
nodes <- html_node(full_page, rank_tag)
all_tag_nodes <- add_row(all_tag_nodes, nodes)
}
all_tag_nodes
library(dplyr)
library(xml2)
library(rvest)
library(wordcloud)
full_page <- read_html("https://www.pixnet.net/blog/articles/category/33")
full_page
titles <- html_node(full_page, xpath="li/h3/a")
View(titles)
titles <- html_node(full_page, xpath=".box-body li/h3/a")
titles <- html_node(full_page, xpath=".box-body li,h3,a")
titles <- html_node(full_page, xpath=".box-body li>h3>a")
titles <- html_node(full_page, xpath="li>h3>a")
full_page
titles <- html_node(full_page, xpath=" li>h3>a")
titles <- html_node(full_page, xpath="h3>a")
titles <- html_node(full_page, xpath="a")
View(titles)
titles <- html_node(full_page, xpath="#rank-1")
titles <- html_node(full_page, "#rank-1")
View(titles)
titles <- html_node(full_page, ".rank-1")
View(titles)
View(titles)
View(x.mat)
View(titles)
View(x.mat)
full_page <- read_html("https://www.pixnet.net/blog/articles/category/33")
full_page
titles <- html_node(full_page, ".rank-1")
cat(titles)
View(full_page)
print(titles)
print(full_page)
cat(full_page)
str(full_page)
full_page <- read_html("https://www.pixnet.net/blog/articles/category/33")
full_page
titles <- html_node(full_page, ".rank-1")
titles
View(titles)
full_page <- read_html("https://www.pixnet.net/blog/articles/category/33")
full_page
titles <- html_node(full_page, ".box-body")
titles
View(full_page)
View(titles)
View(titles)
full_page <- read_html("https://www.pixnet.net/blog/articles/category/33")
full_page
all_nodes <- html_node(full_page, ".box-body")
all_nodes
rank1_title <- html_node(all_nodes,"div[1]/h3/a")
rank1_title <- html_node(all_nodes,"div/div[1]/h3/a")
rank1_title <- html_node(all_nodes,"/div/div[1]/h3/a")
rank1_title <- html_node(all_nodes,xpath="/div/div[1]/h3/a")
View(rank1_title)
View(nodes)
View(nodes)
View(all_nodes)
View(full_page)
test_nodes<- html_node(full_page,xpath="/html/body")
View(test_nodes)
all_nodes <- html_node(full_page, ".box-body")
rank1_title <- html_node(all_nodes,xpath="/div/div")
rank1_title <- html_node(all_nodes,xpath="/div/div[1]")
rank1_title <- html_node(all_nodes,xpath="/div")
full_page <- read_html("https://www.pixnet.net/blog/articles/category/33")
full_page
all_nodes <- html_node(full_page, ".box-body")
all_nodes
test_nodes<- html_node(full_page,xpath="/html/body")
rank1_title <- html_node(all_nodes,xpath="/div")
all_nodes
rank1_title <- html_node(all_nodes,xpath="/div")
rank1_title <- html_node(all_nodes,xpath="/div[2]")
rank1_title <- html_node(all_nodes,xpath="/div[2]/div")
View(rank1_title)
rank1_title <- html_node(all_nodes,xpath="/div[1]/div")
rank1_title <- html_node(all_nodes,xpath="/div[1]")
rank1_title <- html_node(all_nodes,xpath="/div[2]")
rank1_title <- html_node(all_nodes,xpath="/div[0]")
all_nodes
rank1_title <- html_node(all_nodes,xpath="/div/div[1]")
rank1_title <- html_node(all_nodes,xpath="//div//div")
View(rank1_title)
View(rank1_title)
View(rank1_title)
View(rank1_title)
View(rank1_title)
View(all_nodes)
View(all_nodes)
rank1_title <- html_node(all_nodes,xpath="//div")
View(rank1_title)
View(rank1_title)
rank1_title <- test_nodes %>% html_node("div")
View(rank1_title)
rank1_title <- test_nodes %>% html_node("div")
rank1_title
rank1_title <- test_nodes %>% html_node("h3>a")
rank1_title
titles <- html_attr(rank1_title,"title")
titles
urls <- html_attr(rank1_title,"href")
urls
library(dplyr)
library(xml2)
library(rvest)
library(wordcloud)
full_page <- read_html("https://www.pixnet.net/blog/articles/category/33")
full_page
all_nodes <- html_node(full_page, ".box-body")
all_nodes
test_nodes<- html_node(full_page,xpath="/html/body")
rank1_title <- test_nodes %>% html_node("h3>a")
rank1_title
titles <- html_attr(rank1_title,"title")
titles
urls <- html_attr(rank1_title,"href")
urls
df <- c(titles,urls)
df
rank <- 10   # get the top-10
for(i in 2:rank){
rank_tag <- paste0(".rank-",i)
cat(rank_tag)
block <- html_node(full_page, rank_tag) %>% html_node("h3>a")
title <- html_attr(block,"title")
theUrl <- html_attr(block,"href")
df[nrow(df) + 1,] <- list(title, theUrl)
}
df
all_tag_nodes
library(dplyr)
library(xml2)
library(rvest)
library(wordcloud)
full_page <- read_html("https://www.pixnet.net/blog/articles/category/33")
full_page
all_nodes <- html_node(full_page, ".box-body")
all_nodes
test_nodes<- html_node(full_page,xpath="/html/body")
rank1_title <- test_nodes %>% html_node("h3>a")
rank1_title
titles <- html_attr(rank1_title,"title")
titles
urls <- html_attr(rank1_title,"href")
urls
df <- c(titles,urls)
df
rank <- 10   # get the top-10
for(i in 2:rank){
rank_tag <- paste0(".rank-",i)
cat(rank_tag)
block <- html_node(full_page, rank_tag) %>% html_node("h3>a")
title <- html_attr(block,"title")
theUrl <- html_attr(block,"href")
df[nrow(df) + 1,] <- list(title, theUrl)
}
for(i in 1:rank){
rank_tag <- paste0(".rank-",i)
cat(rank_tag)
block <- html_node(full_page, rank_tag) %>% html_node("h3>a")
title <- html_attr(block,"title")
theUrl <- html_attr(block,"href")
df[nrow(df) + 1,] <- list(title, theUrl)
}
rank <- 10   # get the top-10
for(i in 1:rank){
rank_tag <- paste0(".rank-",i)
cat(rank_tag)
block <- html_node(full_page, rank_tag) %>% html_node("h3>a")
title <- html_attr(block,"title")
theUrl <- html_attr(block,"href")
#df[nrow(df) + 1,] <- list(title, theUrl)
}
for(i in 1:rank){
rank_tag <- paste0(".rank-",i)
cat(rank_tag)
block <- html_node(full_page, rank_tag) %>% html_node("h3>a")
title <- html_attr(block,"title")
theUrl <- html_attr(block,"href")
cat(title)
cat(theUrl)
#df[nrow(df) + 1,] <- list(title, theUrl)
}
for(i in 2:2){
rank_tag <- paste0(".rank-",i)
cat(rank_tag)
block <- html_node(full_page, rank_tag) %>% html_node("h3>a")
title <- html_attr(block,"title")
theUrl <- html_attr(block,"href")
cat(title)
cat(theUrl)
#df[nrow(df) + 1,] <- list(title, theUrl)
}
for(i in 2:2){
rank_tag <- paste0(".rank-",i)
cat(rank_tag)
block <- html_node(full_page, rank_tag) %>% html_node("h3>a")
title <- html_attr(block,"title")
theUrl <- html_attr(block,"href")
cat(title)
cat(theUrl)
c(title, theUrl) %>% add_row(df)
#df[nrow(df) + 1,] <- list(title, theUrl)
}
Sys.setenv(LANGUAGE,"en")
Sys.setenv(LANUAGE,"en")
Sys.setenv(LANG,"en")
Sys.setenv(LANGUAGE,"en")
Sys.setenv(LANGUAGE="en")
for(i in 2:2){
rank_tag <- paste0(".rank-",i)
cat(rank_tag)
block <- html_node(full_page, rank_tag) %>% html_node("h3>a")
title <- html_attr(block,"title")
theUrl <- html_attr(block,"href")
cat(title)
cat(theUrl)
c(title, theUrl) %>% add_row(df)
#df[nrow(df) + 1,] <- list(title, theUrl)
}
for(i in 2:2){
rank_tag <- paste0(".rank-",i)
cat(rank_tag)
block <- html_node(full_page, rank_tag) %>% html_node("h3>a")
title <- html_attr(block,"title")
theUrl <- html_attr(block,"href")
cat(title)
cat(theUrl)
df <- add_row(df,c(title, theUrl))
#df[nrow(df) + 1,] <- list(title, theUrl)
}
titles <- html_attr(rank1_title,"title")
titles
urls <- html_attr(rank1_title,"href")
urls
for(i in 2:2){
rank_tag <- paste0(".rank-",i)
cat(rank_tag)
block <- html_node(full_page, rank_tag) %>% html_node("h3>a")
title <- html_attr(block,"title")
theUrl <- html_attr(block,"href")
cat(title)
cat(theUrl)
new<-c(title, theUrl)
df<-rbind(df,new)
#df[nrow(df) + 1,] <- list(title, theUrl)
}
rank <- 10   # get the top-10
for(i in 2:rank){
rank_tag <- paste0(".rank-",i)
cat(rank_tag)
block <- html_node(full_page, rank_tag) %>% html_node("h3>a")
title <- html_attr(block,"title")
theUrl <- html_attr(block,"href")
cat(title)
cat(theUrl)
new<-c(title, theUrl)
df<-rbind(df,new)
#df[nrow(df) + 1,] <- list(title, theUrl)
}
df
df
Sys.setlocale(category="LC_ALL", locale = "en_US.UTF-8")
library(dplyr)
library(xml2)
library(rvest)
library(wordcloud)
full_page <- read_html("https://www.pixnet.net/blog/articles/category/33")
full_page
all_nodes <- html_node(full_page, ".box-body")
all_nodes
test_nodes<- html_node(full_page,xpath="/html/body")
rank1_title <- test_nodes %>% html_node("h3>a")
rank1_title
titles <- html_attr(rank1_title,"title")
titles
urls <- html_attr(rank1_title,"href")
urls
df <- c(titles,urls)
df
rank <- 10   # get the top-10
for(i in 2:rank){
rank_tag <- paste0(".rank-",i)
cat(rank_tag)
block <- html_node(full_page, rank_tag) %>% html_node("h3>a")
title <- html_attr(block,"title")
theUrl <- html_attr(block,"href")
cat(title)
cat(theUrl)
new<-c(title, theUrl)
df<-rbind(df,new)
}
df
all_tag_nodes
library(dplyr)
library(xml2)
library(rvest)
library(wordcloud)
full_page <- read_html("https://www.pixnet.net/blog/articles/category/33")
full_page
all_nodes <- html_node(full_page, ".box-body")
all_nodes
test_nodes<- html_node(full_page,xpath="/html/body")
rank1_title <- test_nodes %>% html_node("h3>a")
rank1_title
titles <- html_attr(rank1_title,"title")
titles
urls <- html_attr(rank1_title,"href")
urls
df <- c(titles,urls)
df
rank <- 10   # get the top-10
for(i in 2:rank){
rank_tag <- paste0(".rank-",i)
cat(rank_tag)
block <- html_node(test_nodes, rank_tag) %>% html_node("h3>a")
title <- html_attr(block,"title")
theUrl <- html_attr(block,"href")
cat(title)
cat(theUrl)
new<-c(title, theUrl)
df<-rbind(df,new)
}
df
df
library(dplyr)
library(xml2)
library(rvest)
library(wordcloud)
full_page <- read_html("https://www.pixnet.net/blog/articles/category/33")
full_page
all_nodes <- html_node(full_page, ".box-body")
all_nodes
test_nodes<- html_node(full_page,xpath="/html/body")
rank1_title <- test_nodes %>% html_node("h3>a")
rank1_title
titles <- html_attr(rank1_title,"title")
titles
urls <- html_attr(rank1_title,"href")
urls
df <- data.frame(c(titles,urls))
df
rank <- 10   # get the top-10
for(i in 2:rank){
rank_tag <- paste0(".rank-",i)
cat(rank_tag)
block <- html_node(test_nodes, rank_tag) %>% html_node("h3>a")
title <- html_attr(block,"title")
theUrl <- html_attr(block,"href")
cat(title)
cat(theUrl)
new<-c(title, theUrl)
df<-rbind(df,new)
}
df
View(df)
View(df)
library(dplyr)
library(xml2)
library(rvest)
library(wordcloud)
full_page <- read_html("https://www.pixnet.net/blog/articles/category/33")
full_page
all_nodes <- html_node(full_page, ".box-body")
all_nodes
test_nodes<- html_node(full_page,xpath="/html/body")
rank1_title <- test_nodes %>% html_node("h3>a")
rank1_title
titles <- html_attr(rank1_title,"title")
titles
urls <- html_attr(rank1_title,"href")
urls
df <- data.frame("title"=titles,"URL"=urls)
df
rank <- 10   # get the top-10
for(i in 2:rank){
rank_tag <- paste0(".rank-",i)
cat(rank_tag)
block <- html_node(test_nodes, rank_tag) %>% html_node("h3>a")
title <- html_attr(block,"title")
theUrl <- html_attr(block,"href")
#  cat(title)
#  cat(theUrl)
new<-c(title, theUrl)
df<-rbind(df,new)
}
df
View(df)
View(df)
library(dplyr)
library(xml2)
library(rvest)
library(wordcloud)
full_page <- read_html("https://www.pixnet.net/blog/articles/category/33")
full_page
all_nodes <- html_node(full_page, ".box-body")
all_nodes
test_nodes<- html_node(full_page,xpath="/html/body")
rank1_title <- test_nodes %>% html_node("h3>a")
rank1_title
titles <- html_attr(rank1_title,"title")
titles
urls <- html_attr(rank1_title,"href")
urls
df <- data.frame("title"=titles,"URL"=urls)
df
rank <- 10   # get the top-10
for(i in 2:rank){
rank_tag <- paste0(".rank-",i)
cat(rank_tag)
block <- html_node(test_nodes, rank_tag) %>% html_node("h3>a")
title <- html_attr(block,"title")
theUrl <- html_attr(block,"href")
#  cat(title)
#  cat(theUrl)
df[,c("title","URL") := c(title,theUrl)]
}
df
library(dplyr)
library(xml2)
library(rvest)
library(wordcloud)
full_page <- read_html("https://www.pixnet.net/blog/articles/category/33")
full_page
all_nodes <- html_node(full_page, ".box-body")
all_nodes
test_nodes<- html_node(full_page,xpath="/html/body")
rank1_title <- test_nodes %>% html_node("h3>a")
rank1_title
titles <- html_attr(rank1_title,"title")
titles
urls <- html_attr(rank1_title,"href")
urls
df <- data.frame("title"=titles,"URL"=urls)
df
rank <- 10   # get the top-10
for(i in 2:rank){
rank_tag <- paste0(".rank-",i)
cat(rank_tag)
block <- html_node(test_nodes, rank_tag) %>% html_node("h3>a")
title <- html_attr(block,"title")
theUrl <- html_attr(block,"href")
df <- data.frame("title"=title,"URL"=theUrl) %>% rbind(df)
}
df
