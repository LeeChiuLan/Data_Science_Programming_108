freqFrame <- as.data.frame(table(unlist(seg)))
freqFrame <- freqFrame[-c(1:34),]
wordcloud(freqFrame$itemName, freqFrame$Freq,
scale=c(5,0.5), min.freq = 10,max.words = 50,
rot.per = 0, colors=brewer.pal(8,"Dark2"),
ordered.colors = FALSE, use.r.layout = FALSE,
fixed.asp = TRUE)
docs <- title
seg <- lapply(docs, jieba_tokenizer)
freqFrame <- as.data.frame(table(unlist(seg)))
freqFrame
wordcloud(freqFrame$itemName, freqFrame$Freq,
scale=c(5,0.5), min.freq = 10,max.words = 50,
rot.per = 0, colors=brewer.pal(8,"Dark2"),
ordered.colors = FALSE, use.r.layout = FALSE,
fixed.asp = TRUE)
wordcloud(freqFrame$Var1, freqFrame$Freq,
scale=c(5,0.5), min.freq = 10,max.words = 50,
rot.per = 0, colors=brewer.pal(8,"Dark2"),
ordered.colors = FALSE, use.r.layout = FALSE,
fixed.asp = TRUE)
restaurantfile <- "../../convertcsv.csv"
restaurantdata_raw<-read.csv(restaurantfile, header=T, sep=",")
head(restaurantdata_raw)
mappingTable_raw<-read_xlsx("../../行政區代碼表_Taiwan_Geocode_103_v2.xlsx", header=T, sep=",")
head(mappingTable_raw)
mappingTable_raw<-read_xlsx("../../Datasets/行政區代碼表_Taiwan_Geocode_103_v2.xlsx", header=T, sep=",")
head(mappingTable_raw)
library(readxl)
mappingTable_raw<-read_xlsx("../../Datasets/行政區代碼表_Taiwan_Geocode_103_v2.xlsx", header=T, sep=",")
head(mappingTable_raw)
mappingTable_raw<-read_xlsx("../../行政區代碼表_Taiwan_Geocode_103_v2.xlsx", header=T, sep=",")
head(mappingTable_raw)
library(dplyr)
library(tmcn)
library(NLP)
library(tm)
library(jiebaRD)
library(jiebaR)
library(RColorBrewer)
library(wordcloud)
library(rvest)
library(xml2)
library(rvest)
library(readxl)
## 依縣市為Documents <- 有興趣縣市之間的關係
## 讀入資料
### [餐飲 - 觀光資訊資料庫](https://data.gov.tw/dataset/7779)
restaurantfile <- "../../convertcsv.csv"
restaurantdata_raw<-read.csv(restaurantfile, header=T, sep=",")
head(restaurantdata_raw)
### [臺灣地區縣市名稱中英對照](https://alerts.ncdr.nat.gov.tw/Document/%E8%A1%8C%E6%94%BF%E5%8D%80%E4%BB%A3%E7%A2%BC%E8%A1%A8_Taiwan_Geocode_103_v2.xlsx)
mappingTable_raw<-read_xlsx("../../行政區代碼表_Taiwan_Geocode_103_v2.xlsx", header=T, sep=",")
head(mappingTable_raw)
mappingTable_raw<-read_xlsx("../../Datasets/行政區代碼表_Taiwan_Geocode_103_v2.xlsx", header=T, sep=",")
head(mappingTable_raw)
library(dplyr)
library(readxl)
library(geosphere)
sitedata_raw<-read.csv("../../Datasets/空氣品質監測站Eng.csv", header=T, sep=",")
AQIfile <- "../../Datasets/ATM00679_2019_0322_0430.xlsx"
AQIdata_raw <- read_xlsx(AQIfile)
head(AQIdata_raw)
AQIfile <- "../../Datasets/ATM00679_2019_0322_0430.xlsx"
AQIdata_raw <- read_xlsx(AQIfile)
head(AQIdata_raw)
mappingTable_raw<-read_xlsx("../../Datasets/行政區代碼表_Taiwan_Geocode_103_v2.xlsx")
head(mappingTable_raw)
head(restaurantdata_raw)
library(kableExtra)
library(dplyr)
library(tmcn)
library(NLP)
library(tm)
library(jiebaRD)
library(jiebaR)
library(RColorBrewer)
library(wordcloud)
library(rvest)
library(xml2)
library(rvest)
library(readxl)
library(kableExtra)
## 依縣市為Documents <- 有興趣縣市之間的關係
## 讀入資料
### [餐飲 - 觀光資訊資料庫](https://data.gov.tw/dataset/7779)
restaurantfile <- "../../convertcsv.csv"
restaurantdata_raw<-read.csv(restaurantfile, header=T, sep=",")
kable(head(restaurantdata_raw))
head(mappingTable_raw)
View(mappingTable_raw)
mappingTable <- mappingTable_raw %>% select(2, 4)
head(mappingTable)
mappingTable <- mappingTable_raw %>% select(2, 4) %>%
rename(City_Eng=縣市英文名_100,City_CH=縣市名_100)
head(mappingTable)
mappingTable %>% mutate(City_Eng = strsplit(City_Eng, " ")[[1]][1])
head(mappingTable)
mappingTable_raw<-read_xlsx("../../Datasets/行政區代碼表_Taiwan_Geocode_103_v2.xlsx")
head(mappingTable_raw)
mappingTable <- mappingTable_raw %>% select(2, 4) %>%
rename(City_Eng=縣市英文名_100,City_CH=縣市名_100)
head(mappingTable)
mappingTable %>% mutate(City_Eng = strsplit(City_Eng, " ")[[1]][1])
head(mappingTable)
mappingTable <- mappingTable %>% mutate(City_Eng = strsplit(City_Eng, " ")[[1]])
head(mappingTable)
mappingTable_raw<-read_xlsx("../../Datasets/行政區代碼表_Taiwan_Geocode_103_v2.xlsx")
head(mappingTable_raw)
mappingTable <- mappingTable_raw %>% select(2, 4) %>%
rename(City_Eng=縣市英文名_100,City_CH=縣市名_100)
head(mappingTable)
mappingTable <- mappingTable %>% mutate(City_Eng = strsplit(City_Eng, " ") %>% sapply(extract2, 1))
head(mappingTable)
mappingTable_raw<-read_xlsx("../../Datasets/行政區代碼表_Taiwan_Geocode_103_v2.xlsx")
head(mappingTable_raw)
mappingTable <- mappingTable_raw %>% select(2, 4) %>%
rename(City_Eng=縣市英文名_100,City_CH=縣市名_100)
head(mappingTable)
mappingTable <- mappingTable %>% mutate(City_Eng = strsplit(City_Eng, " "))
head(mappingTable)
mappingTable_raw<-read_xlsx("../../Datasets/行政區代碼表_Taiwan_Geocode_103_v2.xlsx")
head(mappingTable_raw)
mappingTable <- mappingTable_raw %>% select(2, 4) %>%
rename(City_Eng=縣市英文名_100,City_CH=縣市名_100)
head(mappingTable)
mappingTable <- mappingTable %>% mutate(City_Eng = strsplit(City_Eng, " ")[[1]][1])
head(mappingTable)
mappingTable_raw<-read_xlsx("../../Datasets/行政區代碼表_Taiwan_Geocode_103_v2.xlsx")
head(mappingTable_raw)
mappingTable <- mappingTable_raw %>% select(2, 4) %>%
rename(City_Eng=縣市英文名_100,City_CH=縣市名_100)
head(mappingTable)
mappingTable <- mappingTable %>% mutate(City_Eng = strsplit(City_Eng, " ")[[1]][])
head(mappingTable)
mappingTable_raw<-read_xlsx("../../Datasets/行政區代碼表_Taiwan_Geocode_103_v2.xlsx")
head(mappingTable_raw)
mappingTable <- mappingTable_raw %>% select(2, 4) %>%
rename(City_Eng=縣市英文名_100,City_CH=縣市名_100)
head(mappingTable)
mappingTable <- mappingTable %>% mutate(City_Eng = strsplit(City_Eng, " ")[[1]])
head(mappingTable)
mappingTable_raw<-read_xlsx("../../Datasets/行政區代碼表_Taiwan_Geocode_103_v2.xlsx")
head(mappingTable_raw)
mappingTable <- mappingTable_raw %>% select(2, 4) %>%
rename(City_Eng=縣市英文名_100,City_CH=縣市名_100)
head(mappingTable)
mappingTable <- mappingTable %>% mutate(City_Eng = as.chracter(City_Eng))
head(mappingTable)
mappingTable_raw<-read_xlsx("../../Datasets/行政區代碼表_Taiwan_Geocode_103_v2.xlsx")
head(mappingTable_raw)
mappingTable <- mappingTable_raw %>% select(2, 4) %>%
rename(City_Eng=縣市英文名_100,City_CH=縣市名_100)
head(mappingTable)
mappingTable <- mappingTable %>% mutate(City_Eng = split(City_Eng))
head(mappingTable)
mappingTable_raw<-read_xlsx("../../Datasets/行政區代碼表_Taiwan_Geocode_103_v2.xlsx")
head(mappingTable_raw)
mappingTable <- mappingTable_raw %>% select(2, 4) %>%
rename(City_Eng=縣市英文名_100,City_CH=縣市名_100)
head(mappingTable)
mappingTable <- mappingTable %>% mutate(City_Eng = split(City_Eng," "))
head(mappingTable)
View(mappingTable)
mappingTable_raw<-read_xlsx("../../Datasets/行政區代碼表_Taiwan_Geocode_103_v2.xlsx")
head(mappingTable_raw)
mappingTable <- mappingTable_raw %>% select(2, 4) %>%
rename(City_Eng=縣市英文名_100,City_CH=縣市名_100)
head(mappingTable)
mappingTable$City_Eng <- split(mappingTable$City_Eng," ")
head(mappingTable)
View(mappingTable)
View(mappingTable)
for (i in mappingTable$mappingTable) {
v=split(i," ")[1]
cat(v)
}
mappingTable_raw<-read_xlsx("../../Datasets/行政區代碼表_Taiwan_Geocode_103_v2.xlsx")
head(mappingTable_raw)
mappingTable <- mappingTable_raw %>% select(2, 4) %>%
rename(City_Eng=縣市英文名_100,City_CH=縣市名_100)
head(mappingTable)
for (i in mappingTable) {
v=split(i$City_Eng," ")[1]
cat(v)
}
mappingTable_raw<-read_xlsx("../../Datasets/行政區代碼表_Taiwan_Geocode_103_v2.xlsx")
head(mappingTable_raw)
mappingTable <- mappingTable_raw %>% select(2, 4) %>%
rename(City_Eng=縣市英文名_100,City_CH=縣市名_100)
head(mappingTable)
for (i in mappingTable) {
v=i$City_Eng
cat(v)
}
mappingTable_raw<-read_xlsx("../../Datasets/行政區代碼表_Taiwan_Geocode_103_v2.xlsx")
head(mappingTable_raw)
mappingTable <- mappingTable_raw %>% select(2, 4) %>%
rename(City_Eng=縣市英文名_100,City_CH=縣市名_100)
head(mappingTable)
for (i in mappingTable) {
v=i[1]
cat(v)
}
for (i in mappingTable) {
v=i
cat(v)
}
mappingTable_raw<-read_xlsx("../../Datasets/行政區代碼表_Taiwan_Geocode_103_v2.xlsx")
head(mappingTable_raw)
mappingTable <- mappingTable_raw %>% select(2, 4) %>%
rename(City_Eng=縣市英文名_100,City_CH=縣市名_100)
head(mappingTable)
num <- nrow(mappingTable)
for (i in 1:num){
mappingTable[i,City_Eng] <- split(mappingTable[i,City_Eng]," ")[1]
}
head(mappingTable)
mappingTable_raw<-read_xlsx("../../Datasets/行政區代碼表_Taiwan_Geocode_103_v2.xlsx")
head(mappingTable_raw)
mappingTable <- mappingTable_raw %>% select(2, 4) %>%
rename(City_Eng=縣市英文名_100,City_CH=縣市名_100)
head(mappingTable)
num <- nrow(mappingTable)
for (i in 1:num){
cat(mappingTable[i,City_Eng])
}
mappingTable_raw<-read_xlsx("../../Datasets/行政區代碼表_Taiwan_Geocode_103_v2.xlsx")
head(mappingTable_raw)
mappingTable <- mappingTable_raw %>% select(2, 4) %>%
rename(City_Eng=縣市英文名_100,City_CH=縣市名_100)
head(mappingTable)
num <- nrow(mappingTable)
for (i in 1:num){
cat(mappingTable[i,"City_Eng"])
}
head(mappingTable)
mappingTable_raw<-read_xlsx("../../Datasets/行政區代碼表_Taiwan_Geocode_103_v2.xlsx")
head(mappingTable_raw)
mappingTable <- mappingTable_raw %>% select(2, 4) %>%
rename(City_Eng=縣市英文名_100,City_CH=縣市名_100)
head(mappingTable)
num <- nrow(mappingTable)
for (i in 1:num){
mappingTable[i,"City_Eng"]
}
mappingTable_raw<-read_xlsx("../../Datasets/行政區代碼表_Taiwan_Geocode_103_v2.xlsx")
head(mappingTable_raw)
mappingTable <- mappingTable_raw %>% select(2, 4) %>%
rename(City_Eng=縣市英文名_100,City_CH=縣市名_100)
head(mappingTable)
num <- nrow(mappingTable)
for (i in 1:num){
mappingTable[i,"City_Eng"] <- split(mappingTable[i,"City_Eng"]," ")
}
head(mappingTable)
mappingTable_raw<-read_xlsx("../../Datasets/行政區代碼表_Taiwan_Geocode_103_v2.xlsx")
head(mappingTable_raw)
mappingTable <- mappingTable_raw %>% select(2, 4) %>%
rename(City_Eng=縣市英文名_100,City_CH=縣市名_100)
head(mappingTable)
num <- nrow(mappingTable)
for (i in 1:num){
mappingTable[i,"City_Eng"] <- split(mappingTable[i,"City_Eng"]," ")[1]
}
head(mappingTable)
mappingTable_raw<-read_xlsx("../../Datasets/行政區代碼表_Taiwan_Geocode_103_v2.xlsx")
head(mappingTable_raw)
mappingTable <- mappingTable_raw %>% select(2, 4) %>%
rename(City_Eng=縣市英文名_100,City_CH=縣市名_100)
head(mappingTable)
num <- nrow(mappingTable)
for (i in 1:num){
cat(split(mappingTable[i,"City_Eng"]," "))
}
mappingTable_raw<-read_xlsx("../../Datasets/行政區代碼表_Taiwan_Geocode_103_v2.xlsx")
head(mappingTable_raw)
mappingTable <- mappingTable_raw %>% select(2, 4) %>%
rename(City_Eng=縣市英文名_100,City_CH=縣市名_100)
head(mappingTable)
num <- nrow(mappingTable)
for (i in 1:num){
cat(split(mappingTable[i,"City_Eng"]," ")[[]])
}
mappingTable_raw<-read_xlsx("../../Datasets/行政區代碼表_Taiwan_Geocode_103_v2.xlsx")
head(mappingTable_raw)
mappingTable <- mappingTable_raw %>% select(2, 4) %>%
rename(City_Eng=縣市英文名_100,City_CH=縣市名_100)
head(mappingTable)
num <- nrow(mappingTable)
for (i in 1:num){
cat(split(mappingTable[i,"City_Eng"]," ")[[]][1])
}
mappingTable_raw<-read_xlsx("../../Datasets/行政區代碼表_Taiwan_Geocode_103_v2.xlsx")
head(mappingTable_raw)
mappingTable <- mappingTable_raw %>% select(2, 4) %>%
rename(City_Eng=縣市英文名_100,City_CH=縣市名_100)
head(mappingTable)
num <- nrow(mappingTable)
for (i in 1:num){
mappingTable[i,"City_Eng"] <- cat(split(mappingTable[i,"City_Eng"]," ")[[]][1])
}
head(mappingTable)
mappingTable_raw<-read_xlsx("../../Datasets/行政區代碼表_Taiwan_Geocode_103_v2.xlsx")
head(mappingTable_raw)
mappingTable <- mappingTable_raw %>% select(2, 4) %>%
rename(City_Eng=縣市英文名_100,City_CH=縣市名_100)
head(mappingTable)
num <- nrow(mappingTable)
for (i in 1:num){
mappingTable[i,"City_Eng"] <- split(mappingTable[i,"City_Eng"]," ")[[]][1]
}
head(mappingTable)
mappingTable_raw<-read_xlsx("../../Datasets/行政區代碼表_Taiwan_Geocode_103_v2.xlsx")
head(mappingTable_raw)
mappingTable <- mappingTable_raw %>% select(2, 4) %>%
rename(City_Eng=縣市英文名_100,City_CH=縣市名_100)
head(mappingTable)
num <- nrow(mappingTable)
for (i in 1:num){
mappingTable[i,"City_Eng"] <- split(mappingTable[i,"City_Eng"]," ")[[]]
}
head(mappingTable)
mappingTable_raw<-read_xlsx("../../Datasets/行政區代碼表_Taiwan_Geocode_103_v2.xlsx")
head(mappingTable_raw)
mappingTable <- mappingTable_raw %>% select(2, 4) %>%
rename(City_Eng=縣市英文名_100,City_CH=縣市名_100)
head(mappingTable)
num <- nrow(mappingTable)
for (i in 1:num){
split(mappingTable[i,"City_Eng"]," ")[[]]
}
head(mappingTable)
mappingTable_raw<-read_xlsx("../../Datasets/行政區代碼表_Taiwan_Geocode_103_v2.xlsx")
head(mappingTable_raw)
mappingTable <- mappingTable_raw %>% select(2, 4) %>%
rename(City_Eng=縣市英文名_100,City_CH=縣市名_100)
head(mappingTable)
split(mappingTable,mappingTable$City_Eng)
mappingTable_raw<-read_xlsx("../../Datasets/行政區代碼表_Taiwan_Geocode_103_v2.xlsx")
head(mappingTable_raw)
mappingTable <- mappingTable_raw %>% select(2, 4) %>%
rename(City_Eng=縣市英文名_100,City_CH=縣市名_100)
head(mappingTable)
split(mappingTable$City_Eng," ")
head(mappingTable)
mappingTable_raw<-read_xlsx("../../Datasets/行政區代碼表_Taiwan_Geocode_103_v2.xlsx")
head(mappingTable_raw)
mappingTable <- mappingTable_raw %>% select(2, 4) %>%
rename(City_Eng=縣市英文名_100,City_CH=縣市名_100)
head(mappingTable)
r<-split(mappingTable$City_Eng," ")
View(r)
View(r)
mappingTable_raw<-read_xlsx("../../Datasets/行政區代碼表_Taiwan_Geocode_103_v2.xlsx")
head(mappingTable_raw)
mappingTable <- mappingTable_raw %>% select(2, 4) %>%
rename(City_Eng=縣市英文名_100,City_CH=縣市名_100)
head(mappingTable)
mappingTable$r <- split(mappingTable$City_Eng," ")
head(mappingTable)
View(mappingTable)
View(mappingTable)
mappingTable_raw<-read_xlsx("../../Datasets/行政區代碼表_Taiwan_Geocode_103_v2.xlsx")
head(mappingTable_raw)
mappingTable <- mappingTable_raw %>% select(2, 4) %>%
rename(City_Eng=縣市英文名_100,City_CH=縣市名_100)
head(mappingTable)
mappingTable$r <- split(mappingTable$City_Eng," ")[,1]
head(mappingTable)
mappingTable_raw<-read_xlsx("../../Datasets/行政區代碼表_Taiwan_Geocode_103_v2.xlsx")
head(mappingTable_raw)
mappingTable <- mappingTable_raw %>% select(2, 4) %>%
rename(City_Eng=縣市英文名_100,City_CH=縣市名_100)
head(mappingTable)
r <- split(mappingTable$City_Eng," ")
head(mappingTable)
View(r)
View(r)
r
heat(r)
head(r)
num <- nrow(mappingTable)
num
for(i in 1:num){
cat(mappingTable["City_Eng",i])
}
for(i in 1:num){
print(mappingTable["City_Eng",i])
}
for(i in 1:num){
print(mappingTable[i,"City_Eng"])
}
for(i in 1:num){
v<-split(mappingTable[i,"City_Eng"]," ")
cat(v)
}
for(i in 1:num){
v<-split(mappingTable[i,"City_Eng"]," ")
print(v)
}
for(i in 1:num){
v<-split(mappingTable[i,"City_Eng"]," ")
print(v[1])
}
mappingTable_raw<-read_xlsx("../../Datasets/行政區代碼表_Taiwan_Geocode_103_v2.xlsx")
head(mappingTable_raw)
mappingTable <- mappingTable_raw %>% select(2, 4) %>%
rename(City_Eng=縣市英文名_100,City_CH=縣市名_100)
head(mappingTable)
num <- nrow(mappingTable)
num
for(i in 1:num){
v<-split(mappingTable[i,"City_Eng"]," ")
print(v[1])
}
for(i in 1:num){
v<-split(mappingTable[i,"City_Eng"]," ")
print(v[,1])
}
for(i in 1:num){
v<-split(mappingTable[i,"City_Eng"]," ")
print(v[1,])
}
for(i in 1:num){
v<-split(mappingTable[i,"City_Eng"]," ")
print(v[2])
}
for(i in 1:num){
v<-split(mappingTable[i,"City_Eng"]," ")
v <- split(v," ")
print(v[1])
}
for(i in 1:num){
v<-split(mappingTable[i,"City_Eng"]," ")
v <- split(v[1])
print(v[1])
}
for(i in 1:num){
v<-split(mappingTable[i,"City_Eng"]," ")
v <- split(v[1]," ")
print(v[1])
}
for(i in 1:num){
v<-split(mappingTable[i,"City_Eng"]," ")
v <- split(v[1],' ')
print(v[1])
}
test <- data.frame(mappingTable, colsplit(mappingTable$City_Eng, pattern = " ",names=c("Eng","Val_")))
head(test)
Sys.setenv(LANG,"en")
Sys.setenv(LANGUAGE,"en")
Sys.setenv(LANG = "en")
test <- data.frame(mappingTable, colsplit(mappingTable$City_Eng, pattern = " ",names=c("Eng","Val_")))
head(test)
install.packages("colsplit")
library(reshape)
install.packages("reshape")
library(reshape)
library(dplyr)
library(tmcn)
library(NLP)
library(tm)
library(jiebaRD)
library(jiebaR)
library(RColorBrewer)
library(wordcloud)
library(rvest)
library(xml2)
library(rvest)
library(readxl)
library(kableExtra)
## 依縣市為Documents <- 有興趣縣市之間的關係
## 讀入資料
### [餐飲 - 觀光資訊資料庫](https://data.gov.tw/dataset/7779)
restaurantfile <- "../../convertcsv.csv"
restaurantdata_raw<-read.csv(restaurantfile, header=T, sep=",")
kable(head(restaurantdata_raw))
### [臺灣地區縣市名稱中英對照](https://alerts.ncdr.nat.gov.tw/Document/%E8%A1%8C%E6%94%BF%E5%8D%80%E4%BB%A3%E7%A2%BC%E8%A1%A8_Taiwan_Geocode_103_v2.xlsx)
mappingTable_raw<-read_xlsx("../../Datasets/行政區代碼表_Taiwan_Geocode_103_v2.xlsx")
head(mappingTable_raw)
mappingTable <- mappingTable_raw %>% select(2, 4) %>%
rename(City_Eng=縣市英文名_100,City_CH=縣市名_100)
head(mappingTable)
num <- nrow(mappingTable)
num
test <- data.frame(mappingTable, colsplit(mappingTable$City_Eng, pattern = " ",names=c("Eng","Val_")))
head(test)
num <- nrow(mappingTable)
num
test <- data.frame(mappingTable, split(mappingTable$City_Eng, pattern = " ",names=c("Eng","Val_")))
?split
num <- nrow(mappingTable)
num
test <- data.frame(mappingTable, split(mappingTable$City_Eng, pattern = " "))
head(test)
test <- data.frame(mappingTable, split(mappingTable$City_Eng, " "))
head(test)
View(test)
test$City_Eng <- gsub('\\s+', '', test$City_Eng)
head(test)
mappingTable_raw<-read_xlsx("../../Datasets/行政區代碼表_Taiwan_Geocode_103_v2.xlsx")
head(mappingTable_raw)
mappingTable <- mappingTable_raw %>% select(2, 4) %>%
rename(City_Eng=縣市英文名_100,City_CH=縣市名_100)
head(mappingTable)
mappingTable$City_Eng <- gsub('\\s+', '', mappingTable$City_Eng)
head(mappingTable)
kable(head(restaurantdata_raw))
View(restaurantdata_raw)
View(restaurantdata_raw)
View(mappingTable)
