---
title: "AirPollution"
author: "Linda Lee"
date: "2019/7/11"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Subject
Is PM2.5/AQI related to "restaurant" ?
<br>Show the restaurants 5km around the site station, and view that site's AQI(Air Quality Index). We want to find out any clues then get the result, well we might not get the answer but we can learn something from this study.

## DataSet

* [餐飲 - 觀光資訊資料庫](https://data.gov.tw/dataset/7779)
    + XML To CSV Converter [online](http://www.convertcsv.com/xml-to-csv.htm)
    
* [空氣品質監測站經緯度](https://erdb.epa.gov.tw/DataRepository/Facilities/AirQualityMonitorStations.aspx?topic1=%E8%A8%AD%E6%96%BD&topic2=%E5%A4%A7%E6%B0%A3&subject=%E6%B8%AC%E7%AB%99)
    + rename the field name(column) from Chinese to English

## Reference

* （https://wywu.pixnet.net/blog/post/22338038-台灣地區經緯度的距離)
    + 西  1度 101751.561277 M
    + 東  1度 101751.561277 M
    + 南  1度 110751.075273 M
    + 北  1度 110765.515243 M
  

* unordered list
* item 2
    + sub-item 1
    + sub-item 2

1. ordered list
2. item 2
    + sub-item 1
    + sub-item 2 

## R

```{r}
library(dplyr)
restaurantfile <- "/Users/linda/Desktop/CS+X-108/20190711/convertcsv.csv"
#sitefile <- "/Users/linda/Desktop/CS+X-108/20190711/空氣品質監測站Eng.csv"


restaurantdata_raw<-read.csv(restaurantfile, header=T, sep="," , na.strings = c("", "NA"))
#restaurantdata_raw = restaurantdata_raw %>% na.omit()   # remove emty rows
dim(restaurantdata_raw)
head(restaurantdata_raw)
#sitedata<-read.csv(sitefile, header=T, sep=",")
sitedata_raw<-read.csv("/Users/linda/Desktop/CS+X-108/20190711/空氣品質監測站Eng.csv", header=T, sep=",", na.strings = c("", "NA"))
sitedata_raw= sitedata_raw %>% na.omit()   # remove emty rows
dim(sitedata_raw)
head(sitedata_raw)

sitedata <- select(sitedata_raw, Name, Longitude,Latitude)
head(sitedata)
sitedata$Name <- paste(sitedata$Name,"Site", sep="_")   #append "Site" to each $Name
head(sitedata)

names(sitedata)[names(sitedata) == "Longitude"] <- "Px"
names(sitedata)[names(sitedata) == "Latitude"] <- "Py"
Description=""
sitedata = cbind(sitedata, Description)
head(sitedata)
dim(sitedata)
#---------------
restaurantdata <- select(restaurantdata_raw, Name, Px, Py, Description)
head(restaurantdata)
dim(restaurantdata)

data = rbind(restaurantdata, sitedata)
```


